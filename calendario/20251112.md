---
exe-start: 37
exepro-start: 51
---

## Proposed exercises


::: exepro

**Without executing the code**, what do you expect to see at the output when the user provides the input below?

```
test_me_now
2
```

```python
def replicate(seq, nrep):
	if nrep % 2 == 0:
		seq = seq * nrep
	else:
		seq = seq
	print(seq)


def reduce(seq, part):
	size = len(seq) // 2
	if size % 2 != 0:
		seq = seq[0:size]
	else:
		seq = seq[size:]
	print(seq)
	return seq

#main flow
sentence = input()
times = int(input())

replicate(sentence, times)
print(sentence)
print("*********")
sentence = reduce(sentence, times)
print(sentence)
```

```python
test_me_nowtest_me_now
test_me_now
*********
test_
test_
```

[file](../codice/37.selftestprint.py)

:::


::: exepro

A **Harshad** or **Niven** number is a number that is divisible by the sum of its digits. 201 is a Harshad number because it is divisible by 3 (the sum of its digits.). Write a Python function `isHarshad` that accepts as a parameter an integer value and computes and returns the sum of its digits if the number is a Harshad number, 0 otherwise. You are not allowed to use the built-in statement `str()` but you need to work with numbers.

```python
BASE = 10

def isHarshad(value):
	# copy to be used at the end
	dup = value

	sumdigit = value % BASE
	value = value / BASE
	while value > 0:
		sumdigit += value % BASE
		value = value / BASE
	if dup % sumdigit == 0:
		res = sumdigit
	else:
		res = 0
	return res
```

[file](../codice/38.sub.harshad.py)


:::

::: exepro

Let us call a **right truncatable Harshad number** a Harshad number that, while repeatedly truncating the last digit, always results in a Harshad number. As an example, consider the initial value 201; when we truncate the last digit from 201, we get 20, which is a Harshad number. When we truncate the last digit from 20, we get 2, which is also a Harshad number.

Write a Python function `rightTruncableHarshad` that accepts as a parameter an integer value and computes and returns `True` if it is a right truncatable Harshad number, `False` otherwise. You are not allowed to use the built-in statement `str()` but you need to work with numbers.


```python
BASE = 10

def isHarshad(value):
	# copy to be used at the end
	dup = value

	sumdigit = value % BASE
	value = value / BASE
	while value > 0:
		sumdigit += value % BASE
		value = value / BASE
	if dup % sumdigit == 0:
		res = sumdigit
	else:
		res = 0
	return res

def rightTruncableHarshad(value):
	sumdigit = isHarshad(value) 
	while sumdigit > 0 and value > 0:
		value = value / BASE
		sumdigit = isHarshad(value)
	return (sumdigit > 0 and value == 0)
```

[file](../codice/39.sub.righttruncableharshad.py)

:::

::: exepro

Let us call a **strong Harshad number** a Harshad number that when divided by the sum of its digits, results in a prime. As an example 201 is a Harshad number and 201/3 = 67, a prime. 

Write a python function `strongHarshad` that as a parameter an integer value and computes and returns `True` if it is a strong Harshad number, `False` otherwise. You are not allowed to use the built-in statement `str()` but you need to work with numbers.


```python
BASE = 10

def isHarshad(value):
	# copy to be used at the end
	dup = value

	sumdigit = value % BASE
	value = value / BASE
	while value > 0:
		sumdigit += value % BASE
		value = value / BASE
	if dup % sumdigit == 0:
		res = sumdigit
	else:
		res = 0
	return res

def prime(value):
    if n == 2:
        is_prime = True
    elif n == 1 or n % 2 == 0:
        is_prime = False
    else:
        is_prime = True
        i = 3
        while i * i <= n and is_prime:
            if n % i == 0:
                is_prime = False
            i += 2  # skip even numbers

    return is_prime

def strongHarshad(value):
	sumdigit = isHarshad(value)
	div = value // sumdigit
	return prime(div)
```

[file](../codice/40.sub.strongharshad.py)


**Note**: the `isHarshad` function has been planned to return the sum of its digits rather than a `True`/`False` value to be more useful for this task. 

:::


::: exepro

Finally, let us call **strong, right truncatable Harshad prime** numbers that are prime and when truncating the least significant digit we have both a strong Harshad number **and** a right truncatable Harshad number.

As an example, take the number 2011. It is prime and when we truncate the last digit from it we get 201, a strong Harshad number that is also right truncatable. 

Write a function `primeStrongRightTruncableHarshad` that as a parameter an integer value and computes and returns `True` if it is a strong, right truncatable Harshad prime, `False` otherwise. You are not allowed to use the built-in statement `str()` but you need to work with numbers.

:::


::: exepro

Write a python program that asks the usera a number `n` that has to be included in the interval `[1,50]` and the request is repeated till the constraint is met. The program computes and displayes the first `n` strong, right truncatable Harshad primes.

For a reference, the first 20 strong, right truncatable Harshad primes are:
```
181 211 271 277 421 457 631 2011 2017 2099 2473 2477 4021 4027 4073 4079 4231 4813 4817 6037 8011
```

:::